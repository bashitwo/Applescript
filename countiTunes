set alist to {{1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}, {1, 2}}
set prov to {1, 2}
set res to ""
--set a to ((year of (current date) as integer) & (month of (current date) as integer) & (day of (current date)) & ((time string of (current date)))) as string
set a to ((year of (current date) as integer) & "/" & (month of (current date) as integer) & "/" & (day of (current date)) & "/" & ((time string of (current date)))) as string
tell application "iTunes"
	
	repeat with i from 1 to 25
		set thetrack to track i of playlist "トップ 25"
		set notr to name of thetrack
		set pcotr to played count of thetrack
		
		set item 1 of item i of alist to notr
		set item 2 of item i of alist to pcotr
		
		--log prov
	end repeat
	
	repeat with j from 1 to 25
		set res to item 2 of item j of alist
		set fileN to item 1 of item j of alist
		try
			set theText to read "/Users/" & "YourAcount" & "/Library/Scripts/countiTunes/log/" & fileN as string
		on error
			set theText to ""
		end try
		tell application "System Events"
			set fileDate to modification date of alias (":Users:tsubasa0mac:Library:Scripts:countiTunes:log:" & "theMostPlayedTrack")
			if (((current date) - fileDate) > 86400) then
				do shell script "echo " & quoted form of theText & a & "	" & res & " > /Users/" & "YourAcount" & "/Library/Scripts/countiTunes/log/" & quoted form of item 1 of item j of alist
			end if
		end tell
		
	end repeat
	
	repeat with j from 1 to 25
		--set res to res & item 1 of item j of alist & return
	end repeat
	
	--return name of track 2 of playlist "トップ 25"
end tell

return alist


